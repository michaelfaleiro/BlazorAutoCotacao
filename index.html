<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' blob: https://static.cloudflareinsights.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' http://localhost:5154 %%API_CSP_HOST%% https://cloudflareinsights.com blob: data:; worker-src 'self' blob:;" />

    <script>
        // Ensure CSP connect-src includes the ApiBaseUrl from appsettings when running locally
        (async function(){
            try{
                const candidates=['/appsettings.json','/appsettings.Development.json'];
                let cfg;
                for(const u of candidates){
                    try{
                        const res = await fetch(u, {cache: 'no-store'});
                        if(res.ok){ cfg = await res.json(); break; }
                    }catch(e){ /* ignore */ }
                }
                const meta = document.querySelector('meta[http-equiv="Content-Security-Policy"]');
                if(!meta) return;
                let content = meta.getAttribute('content') || '';
                // remove placeholder if present
                content = content.replace(/%%API_CSP_HOST%%/g, '').replace(/\s+/g, ' ').trim();
                if(cfg && cfg.ApiBaseUrl){
                    let origin;
                    try{ origin = new URL(cfg.ApiBaseUrl).origin; }catch(e){
                        const m = cfg.ApiBaseUrl.match(/^(https?:\/\/[^/]+)/);
                        if(m) origin = m[1];
                    }
                    if(origin && !content.includes(origin)){
                        content = content.replace(/connect-src\s([^;]*)/, function(m, p1){
                            return 'connect-src ' + p1 + ' ' + origin;
                        });
                    }
                }
                meta.setAttribute('content', content);
            }catch(e){ /* noop */ }
        })();
    </script>
    <title>BlazorAutoCotacao</title>
    <base href="/BlazorAutoCotacao/" />
    <script>
        // SPA redirect recovery from 404.html
        (function(l) {
            if (l.search[1] === '/' ) {
                var decoded = l.search.slice(1).split('&').map(function(s) { 
                    return s.replace(/~and~/g, '&')
                }).join('?');
                window.history.replaceState(null, null,
                    l.pathname.slice(0, -1) + decoded + l.hash
                );
            }
        }(window.location));
    </script>
    <link href="_framework/dotnet.xldv1u2zlk.js" rel="preload" as="script" fetchpriority="high" crossorigin="anonymous" integrity="sha256-W/Das0GziGqM86tWHa7jLCt6F3IwaFga9j03M6JVVRU=" />
    <link rel="stylesheet" href="css/app.css" />
    <!-- If you add any scoped CSS files, uncomment the following to load them
    <link href="BlazorAutoCotacao.styles.css" rel="stylesheet" /> -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <!-- Important: Increment the version parameter whenever you update MudBlazor to prevent caching issues -->
    <link href="_content/MudBlazor/MudBlazor.min.css?v=1" rel="stylesheet" />

    <script type="importmap">{
  "imports": {
    "./_framework/blazor.webassembly.js": "./_framework/blazor.webassembly.66stpp682q.js",
    "./_framework/dotnet.native.js": "./_framework/dotnet.native.87vtjjdetb.js",
    "./_framework/dotnet.runtime.js": "./_framework/dotnet.runtime.2tx45g8lli.js",
    "./_framework/dotnet.js": "./_framework/dotnet.xldv1u2zlk.js"
  },
  "scopes": {},
  "integrity": {
    "./_framework/blazor.webassembly.66stpp682q.js": "sha256-3lCWrko3zwspV40aQhs2S/IMkRSarnHRKIdkHhuXIBA=",
    "./_framework/blazor.webassembly.js": "sha256-3lCWrko3zwspV40aQhs2S/IMkRSarnHRKIdkHhuXIBA=",
    "./_framework/dotnet.js": "sha256-W/Das0GziGqM86tWHa7jLCt6F3IwaFga9j03M6JVVRU=",
    "./_framework/dotnet.native.87vtjjdetb.js": "sha256-zE11fbcG2CeLl1Zi+NJgMOfWpdjuUWNte+icrtAO58I=",
    "./_framework/dotnet.native.js": "sha256-zE11fbcG2CeLl1Zi+NJgMOfWpdjuUWNte+icrtAO58I=",
    "./_framework/dotnet.runtime.2tx45g8lli.js": "sha256-2lZh9yO0fnzm3Xt7yV+Kox3DH3nK7L8hDhm84VT1xco=",
    "./_framework/dotnet.runtime.js": "sha256-2lZh9yO0fnzm3Xt7yV+Kox3DH3nK7L8hDhm84VT1xco=",
    "./_framework/dotnet.xldv1u2zlk.js": "sha256-W/Das0GziGqM86tWHa7jLCt6F3IwaFga9j03M6JVVRU="
  }
}</script>
</head>

<body>
    <div id="app">
        <svg class="loading-progress">
            <circle r="40%" cx="50%" cy="50%" />
            <circle r="40%" cx="50%" cy="50%" />
        </svg>
        <div class="loading-progress-text"></div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="." class="reload">Reload</a>
        <span class="dismiss">ðŸ—™</span>
    </div>
    <script src="_framework/blazor.webassembly.66stpp682q.js"></script>
    <!-- Chart.js required by MudBlazor MudChart -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <!-- Important: Increment the version parameter whenever you update MudBlazor to prevent caching issues -->
    <script src="_content/MudBlazor/MudBlazor.min.js?v=1"></script>

</body>

</html>
